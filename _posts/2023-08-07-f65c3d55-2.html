---
layout: post
cover: 'assets/images/f65c3d55-cover-globe.jpg'
navigation: True
title: Managing Global API Deployments in CloudHub (Part 2)
date: 2023-08-06 12:11:45
tags: architecture
subclass: 'post tag-test tag-content'
logo: 'assets/images/odyssey-logo-clean.png'
author: jeroen
categories: jeroen
---

<p>Global organizations require global IT infrastructure to support their processes, and APIs are no exceptions to this requirement.
In Part 2 of this blog post series, we will discuss the solution design and the implementation steps for the business requirements discussed in <a href="/f65c3d55-1.html">Part 1</a>.</p>

<hr />
<h3>Table of Contents</h3>

<h5><a href="#solution-design">Solution design</a></h5>

<hr />

<h4><a name="solution-design">Solution design</a></h4>

After thorough analysis of the requirements and available <a href="https://docs.mulesoft.com/cloudhub-2/ch2-architecture#regions-and-dns-records">CloudHub regions</a>, the ACME Inc. <em>Center for Enablement (C4E)</em> has come up with the following Action Plan.

<ol>
  <li>Set up and configure Private Spaces in Regions <em>eu-central-1 (deu-c1)</em> and <em>us-east-1 (usa-e1)</em></li>
  <li>Reconfigure existing VPC and DLB in Region <em>ap-northeast-2 (au-s1)</em></li>
  <li>Configure AWS Route 53 with required DNS Records and geolocation policies</li>
</ol>

<h5>Solution design diagram</h5>

<p>The diagram below shows the solution design and the components required for the implementation. Applications will (continue to) use the vanity domain <em>api.acme.com</em>, 
  whereby Route 53 will be configured to ensure geographical routing based on the application's location.</p> 
<p><img src="/assets/images/f65c3d55-1-diagram.png" alt="Solution design diagram" /></p>

<p>Now let's get started with the implementation!</p>

<h5>Setting up and configuring Private Spaces in Anypoint Platform</h5>

  <ol>
    <li>Create a Private Space in Region <em>Europe (Frankfurt)</em> by following the steps described <a href="https://docs.mulesoft.com/cloudhub-2/ps-create-configure">here</a>.</li>

    The team names this Private Space <em>acme-priv-sp-deu-c1</em>.
    <li>Create a Private Space in Region <em>US East (Northern Virginia)</em> following the same steps as above.</li>

    The team names this Private Space <em>acme-priv-sp-usa-e1</em>
  </ol>

<p>The creation of the Private Spaces will run in the background and will take approximately 30 minutes to complete. 
In the meantime, you can go and grab the <strong>Public certificate</strong> and <strong>Private Key</strong> for the domain of your choice.
  The C4e at ACME Inc. has already gathered the needed PEM-files from their networking team to configure the Private Space with a TLS Context for <em>api.acme.com</em>.</p>

  <p>As soon as the Private Spaces have been successfully completed, we can go ahead and configure the TLS Context by following the steps described <a href="https://docs.mulesoft.com/cloudhub-2/ps-config-domains#create-tls-context">here</a>.</p>
